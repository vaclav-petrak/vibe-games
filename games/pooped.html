<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Fitness Simul√°tor - Kucha≈ô a Poƒç√≠tadlo</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f4f8;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }

        /* POƒå√çTADLO */
        #counter {
            position: absolute;
            top: 20px;
            left: 20px;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            font-size: 20px;
            font-weight: bold;
            z-index: 100;
        }

        #game-container {
            text-align: center;
            position: relative;
            width: 600px;
            height: 600px;
            border-bottom: 5px solid #ddd;
        }

        /* --- POSTAVIƒåKA --- */
        #character {
            width: 100px;
            height: 200px;
            position: relative;
            transition: all 0.15s ease;
            margin: 100px auto 0;
            z-index: 10;
        }

        .head {
            width: 40px; height: 40px;
            background: #ffdbac;
            border-radius: 50%;
            position: absolute;
            top: 0; left: 30px;
        }

        .torso {
            width: 50px; height: 75px;
            background: #444;
            position: absolute;
            top: 40px; left: 25px;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background 0.3s;
        }

        .leg {
            width: 18px; height: 80px;
            background: #222;
            position: absolute;
            top: 115px;
            transition: background 0.3s;
        }
        .leg.left { left: 29px; }
        .leg.right { left: 53px; }

        /* --- DOPL≈áKY --- */
        .symbol, .cape, .wings, .chef-hat, .pie { display: none; position: absolute; }

        /* Superman */
        .symbol { width: 20px; height: 20px; background: gold; clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); color: red; font-size: 10px; font-weight: bold; line-height: 20px; }
        .cape { width: 70px; height: 110px; background: red; top: 45px; left: 15px; z-index: -1; }

        /* V√≠la */
        .wings { width: 120px; height: 80px; top: 30px; left: -10px; z-index: -1; background: rgba(255, 159, 243, 0.7); clip-path: polygon(0% 20%, 50% 50%, 0% 80%, 100% 80%, 50% 50%, 100% 20%); animation: flap 0.3s infinite alternate; }

        /* Kucha≈ô */
        .chef-hat {
            width: 40px; height: 30px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px 10px 2px 2px;
            top: -25px; left: 30px;
        }
        .pie {
            font-size: 30px;
            top: 50px; left: 70px;
            filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.2));
        }

        @keyframes flap { from { transform: scale(0.8); } to { transform: scale(1.1); } }

        /* --- STAVY --- */
        .squat { transform: translateY(60px) scaleY(0.6); }
        .pushup { transform: rotate(-90deg) translateY(120px) translateX(-60px); }
        .float { animation: floating 1s infinite ease-in-out; }
        @keyframes floating { 0%, 100% { transform: translateY(-10px); } 50% { transform: translateY(-50px); } }

        /* Transformace */
        .is-superman .torso, .is-superman .leg { background: #0055ff !important; }
        .is-superman .cape, .is-superman .symbol { display: block; }

        .is-fairy .torso, .is-fairy .leg { background: #ff9ff3 !important; }
        .is-fairy .wings { display: block; }

        .is-chef .torso, .is-chef .leg { background: #ffffff !important; border: 1px solid #ddd; }
        .is-chef .chef-hat, .is-chef .pie { display: block; }

        /* --- HOV√çNKO --- */
        .poop {
            position: absolute;
            font-size: 30px;
            z-index: 5;
            transition: transform 0.4s cubic-bezier(0.45, 0.05, 0.55, 0.95), opacity 0.3s;
        }
        .splat {
            transform: translateY(180px) scaleY(0.3) scaleX(1.6) !important;
            filter: blur(0.5px);
            opacity: 0.9;
        }

        .controls {
            margin-top: 30px;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        kbd { background: #333; color: white; padding: 3px 8px; border-radius: 5px; font-weight: bold; }
    </style>
</head>
<body>

    <div id="counter">Vykak√°no: <span id="poop-count">0</span> üí©</div>

    <div id="game-container">
        <h1 id="status">Zacviƒç si nebo uva≈ô!</h1>
       
        <div id="character">
            <div class="cape"></div>
            <div class="wings"></div>
            <div class="chef-hat"></div>
            <div class="pie">ü•ß</div>
            <div class="head"></div>
            <div class="torso"><div class="symbol">S</div></div>
            <div class="leg left"></div>
            <div class="leg right"></div>
        </div>

        <div class="controls">
            <p><kbd>Enter</kbd> = D≈ôep + üí© | <kbd>M</kbd> = Superman ü¶∏‚Äç‚ôÇÔ∏è</p>
            <p><kbd>N</kbd> = V√≠la üßö‚Äç‚ôÄÔ∏è | <kbd>B</kbd> = Kucha≈ô üë®‚Äçüç≥</p>
        </div>
    </div>

    <script>
        const char = document.getElementById('character');
        const statusText = document.getElementById('status');
        const container = document.getElementById('game-container');
        const countDisplay = document.getElementById('poop-count');
        let poopCount = 0;
        let canPoop = true;

        window.addEventListener('keydown', (e) => {
            const key = e.key.toLowerCase();

            if (e.key === 'Enter') {
                char.classList.add('squat');
                statusText.innerText = "D≈ôepuje≈°!";
                if (canPoop) {
                    spawnPoop();
                    canPoop = false;
                }
            }
            if (key === 'm') {
                char.classList.add('is-superman', 'pushup');
                statusText.innerText = "Super-klik!";
            }
            if (key === 'n') {
                char.classList.add('is-fairy', 'float');
                statusText.innerText = "L√©taj√≠c√≠ v√≠la!";
            }
            if (key === 'b') {
                char.classList.add('is-chef');
                statusText.innerText = "Peƒçe≈° kol√°ƒç!";
            }
        });

        window.addEventListener('keyup', (e) => {
            const key = e.key.toLowerCase();
            if (e.key === 'Enter') { char.classList.remove('squat'); canPoop = true; }
            if (key === 'm') { char.classList.remove('is-superman', 'pushup'); }
            if (key === 'n') { char.classList.remove('is-fairy', 'float'); }
            if (key === 'b') { char.classList.remove('is-chef'); }
            statusText.innerText = "Makej d√°l!";
        });

        function spawnPoop() {
            poopCount++;
            countDisplay.innerText = poopCount;

            const poop = document.createElement('div');
            poop.innerText = 'üí©';
            poop.className = 'poop';
           
            const rect = char.getBoundingClientRect();
            const contRect = container.getBoundingClientRect();
           
            poop.style.left = (rect.left - contRect.left + 35) + 'px';
            poop.style.top = (rect.top - contRect.top + 130) + 'px';
           
            container.appendChild(poop);
           
            setTimeout(() => {
                poop.classList.add('splat');
            }, 20);

            setTimeout(() => {
                poop.style.opacity = '0';
                setTimeout(() => poop.remove(), 300);
            }, 2000);
        }
    </script>
</body>
</html>